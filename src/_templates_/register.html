{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Limitless - Responsive Web Application Kit by Eugene Kopyov</title>

	<!-- Global stylesheets -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900" rel="stylesheet" type="text/css">
	<link href="{% static 'assets/css/icons/icomoon/styles.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'assets/css/bootstrap.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'assets/css/core.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'assets/css/components.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'assets/css/colors.css' %}" rel="stylesheet" type="text/css">
	<!-- /global stylesheets -->

	<!-- Core JS files -->
	<script type="text/javascript" src="{% static 'assets/js/plugins/loaders/pace.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/core/libraries/jquery.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/core/libraries/bootstrap.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/loaders/blockui.min.js' %}"></script>
	<!-- /core JS files -->

	<!-- Theme JS files -->

	<script type="text/javascript" src="{% static 'assets/js/plugins/notifications/jgrowl.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/ui/moment/moment.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/forms/wizards/stepy.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/forms/selects/select2.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/forms/styling/uniform.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/core/libraries/jasny_bootstrap.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/forms/validation/validate.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/pickers/daterangepicker.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/pickers/anytime.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/pickers/pickadate/picker.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/pickers/pickadate/picker.date.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/pickers/pickadate/picker.time.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/pickers/pickadate/legacy.js' %}"></script>

	<script type="text/javascript" src="{% static 'assets/js/core/app.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/pages/picker_date.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/plugins/notifications/pnotify.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/pages/components_notifications_pnotify.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/js/pages/wizard_stepy.js' %}"></script>
	<!-- /theme JS files -->

</head>

<body class="navbar-bottom">

		<!-- Main navbar -->
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-header">
			<a class="navbar-brand" href="index.html"><img src="{% static 'assets/images/logo_light.png' %}" alt=""></a>

			<ul class="nav navbar-nav pull-right visible-xs-block">
				<li><a data-toggle="collapse" data-target="#navbar-mobile"><i class="icon-tree5"></i></a></li>
			</ul>
		</div>

		<div class="navbar-collapse collapse" id="navbar-mobile">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href="login_advanced.html#">
						<i class="icon-display4"></i> <span class="visible-xs-inline-block position-right"> Go to website</span>
					</a>
				</li>
				<li>
					<a href="login_advanced.html#">
						<i class="icon-user-tie"></i> <span class="visible-xs-inline-block position-right"> Contact admin</span>
					</a>
				</li>
				<li class="dropdown">
					<a class="dropdown-toggle" data-toggle="dropdown">
						<i class="icon-cog3"></i>
						<span class="visible-xs-inline-block position-right"> Options</span>
					</a>
				</li>
			</ul>
		</div>
	</div>
	<!-- /main navbar -->



	<!-- Page container -->
	<div class="page-container">

		<!-- Page content -->
		<div class="page-content">

			<!-- Main content -->
			<div class="content-wrapper">
				<div class="col-lg-8 col-xs-12 col-lg-offset-2" style="margin-top:100px;">
		            <!-- Wizard with validation -->
		            <div class="panel panel-white">
						<div class="panel-heading">
							<div class="text-center">
								<div class="icon-object border-success text-success"><i class="icon-plus3"></i></div>
								<h5 class="content-group">Create account <small class="display-block">All fields are required</small></h5>
							</div>
						</div>



	                	<form class="stepy-validation" enctype='application/json' method="POST" action="" id="form1">
							<fieldset title="1">
								<legend class="text-semibold">Credentials</legend>

								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label>First Name: <span class="text-danger">*</span></label>
											<input type="text" name="firstname" class="form-control required" placeholder="Goutham">
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
											<label>Last Name: <span class="text-danger">*</span></label>
											<input type="text" name="lastname" class="form-control required" placeholder="Arukonda">
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label>Username: <span class="text-danger">*</span></label>
											<input type="text" onblur="myfunc1()" id="username" name="username" class="form-control required" placeholder="John Doe">
											<label id="usernameavaliable" class="validation-error-label"></label>
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
											<label>Email address: <span class="text-danger">*</span></label>
											<input type="email" onblur="myfunc2()" id="email" name="email" class="form-control required" placeholder="your@email.com">
											<label id="emailavaliable" class="validation-error-label"></label>
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label>Enter Password: <span class="text-danger">*</span></label>
											<input type="password" name="password" id="password" class="form-control" required="required" placeholder="Minimum 5 characters allowed">
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
											<label>Re-Enter Password: <span class="text-danger">*</span></label>
											<input type="password" name="repeat_password" class="form-control" required="required" placeholder="Try different password">
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label>Role: <span class="text-danger">*</span></label>
											<div class="radio">
												<label>
													<input id="role_student" value="0" type="radio" name="role" class="styled required">
													Student
												</label>
											</div>

											<div class="radio">
												<label>
													<input id="role_teacher" value="1" type="radio" name="role" class="styled">
													Teacher
												</label>
											</div>
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
											<label>Gender: <span class="text-danger">*</span></label>
											<div class="radio">
												<label>
													<input id="gender_male" value="0" type="radio" name="gender" class="styled required">
													Male
												</label>
											</div>

											<div class="radio">
												<label>
													<input id="gender_female" value="1" type="radio" name="gender" class="styled">
													Female
												</label>
											</div>

											<div class="radio">
												<label>
													<input id="gender_other" value="2" type="radio" name="gender" class="styled">
													Other
												</label>
											</div>
										</div>
									</div>
								</div>
							</fieldset>
	                		<fieldset title="2">
								<legend class="text-semibold">Additional Info</legend>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label>Select Institute: <span class="text-danger">*</span></label>
											<select id="institutes" name="institute" data-placeholder="Select institute" class="select required">
											</select>
										</div>
									</div>

									<div class="col-md-6 studentonly">
										<div class="form-group">
											<label>Board of Education: <span class="text-danger">*</span></label>
											<select name="boe" data-placeholder="Select Board of Education" class="select required studentonly1">
												<option></option>
												<option value="Central Board of Secondary Education (CBSE)">Central Board of Secondary Education (CBSE)</option>
												<option value="National Institute of Open Schooling (NIOS)">National Institute of Open Schooling (NIOS)</option>
												<option value="Council for the Indian School Certificate Examinations (CISCE)">Council for the Indian School Certificate Examinations (CISCE)</option>
												<option value="Grameen Mukt Vidhyalayi Shiksha Sansthan(GMVSS)">Grameen Mukt Vidhyalayi Shiksha Sansthan(GMVSS)</option>
												<option value="Andhra Pradesh Board of Secondary Education">Andhra Pradesh Board of Secondary Education</option>
												<option value="Andhra Pradesh Open School Society">Andhra Pradesh Open School Society</option>
												<option value="Assam Board of Secondary Education">Assam Board of Secondary Education</option>
												<option value="Assam Higher Secondary Education Council">Assam Higher Secondary Education Council</option>
												<option value="Assam State Open School">Assam State Open School</option>
												<option value="Bihar Board of Open Schooling & Examinations">Bihar Board of Open Schooling & Examinations</option>
												<option value="Bihar School Examination Board">Bihar School Examination Board</option>
												<option value="Uttar Pradesh Board of High School and Intermediate Education Allahabad">Uttar Pradesh Board of High School and Intermediate Education Allahabad</option>
												<option value="Madhya Pradesh Board of Secondary Education (Gwalior)">Madhya Pradesh Board of Secondary Education (Gwalior)</option>
												<option value="Madhya Pradesh Board of Secondary Education">Madhya Pradesh Board of Secondary Education</option>
												<option value="Madhya Pradesh State Open School">Madhya Pradesh State Open School</option>
												<option value="Rajasthan Board of Secondary Education">Rajasthan Board of Secondary Education</option>
												<option value="Rajasthan State Open School">Rajasthan State Open School</option>
												<option value="Chhattisgarh Board of Education">Chhattisgarh Board of Education</option>
												<option value="Central Board of Secondary Education (CBSE)">Central Board of Secondary Education (CBSE)</option>
												<option value="Council for the Indian School Certificate Examinations (CISCE)">Council for the Indian School Certificate Examinations (CISCE)</option>
												<option value="Goa Board of Secondary & Higher Secondary Education">Goa Board of Secondary & Higher Secondary Education</option>
												<option value="Gujarat Secondary Education Board">Gujarat Secondary Education Board</option>
												<option value="[[Gujarat state open school|Gujarat State Open School]">[[Gujarat state open school|Gujarat State Open School]</option>
												<option value="Haryana Board of School Education">Haryana Board of School Education</option>
												<option value="Haryana State Open School">Haryana State Open School</option>
												<option value="Himachal Pradesh Board of School Education">Himachal Pradesh Board of School Education</option>
												<option value="Himachal Pradesh State Open School">Himachal Pradesh State Open School</option>
												<option value="Jharkhand Academic Council">Jharkhand Academic Council</option>
												<option value="Jharkhand State Open School, Ranchi.">Jharkhand State Open School, Ranchi.</option>
												<option value="Jammu and Kashmir State Board of School Education">Jammu and Kashmir State Board of School Education</option>
												<option value="Jammu and Kashmir State Open School">Jammu and Kashmir State Open School</option>
												<option value="Karnataka Secondary Education Examination Board">Karnataka Secondary Education Examination Board</option>
												<option value="Karnataka State Open School">Karnataka State Open School</option>
												<option value="Kerala Higher Secondary Examination Board">Kerala Higher Secondary Examination Board</option>
												<option value="Kerala State Open School">Kerala State Open School</option>
												<option value="Maharashtra State Board of Secondary and Higher Secondary Education">Maharashtra State Board of Secondary and Higher Secondary Education</option>
												<option value="Meghalaya Board of School Education">Meghalaya Board of School Education</option>
												<option value="Mizoram Board of School Education">Mizoram Board of School Education</option>
												<option value="Nagaland Board of School Education">Nagaland Board of School Education</option>
												<option value="National Institute of Open Schooling">National Institute of Open Schooling</option>
												<option value="Orissa Board of Secondary Education">Orissa Board of Secondary Education</option>
												<option value="Orissa Council of Higher Secondary Education">Orissa Council of Higher Secondary Education</option>
												<option value="Punjab School Education Board">Punjab School Education Board</option>
												<option value="Tamil Nadu Board of Secondary Education">Tamil Nadu Board of Secondary Education</option>
												<option value="Tripura Board of Secondary Education">Tripura Board of Secondary Education</option>
												<option value="Telangana Board of Intermediate Education">Telangana Board of Intermediate Education</option>
												<option value="Telangana Board of Secondary Education">Telangana Board of Secondary Education</option>
												<option value="Uttarakhand Board of School Education">Uttarakhand Board of School Education</option>
												<option value="West Bengal Board of Madrasah Education">West Bengal Board of Madrasah Education</option>
												<option value="West Bengal Board of Primary Education">West Bengal Board of Primary Education</option>
												<option value="West Bengal Board of Secondary Education">West Bengal Board of Secondary Education</option>
												<option value="West Bengal Council of Higher Secondary Education">West Bengal Council of Higher Secondary Education</option>
												<option value="West Bengal Council of Rabindra Open Schooling">West Bengal Council of Rabindra Open Schooling</option>
												<option value="West Bengal State Council of Vocational Education">West Bengal State Council of Vocational Education</option>
											</select>
										</div>
									</div>

									<div class="col-md-6 teacheronly" >
										<div class="form-group">
											<label>Experience #: <span class="text-danger">*</span></label>
											<input type="text" name="experience" class="form-control required teacheronly1">
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label>Phone #: <span class="text-danger">*</span></label>
											<input type="text" name="mobile" class="form-control required" placeholder="+99-9999999999" data-mask="+99-9999999999">
										</div>
									</div>

									<div class="col-md-6">
										<div class="form-group">
											<label>Date of Birth: <span class="text-danger">*</span></label>
											<div class="input-group">
											<span class="input-group-addon"><i class="icon-calendar3"></i></span>
											<input type="text" name="dob" class="form-control required" id="anytime-month-numeric" value="04/06/2014">
										</div>
										</div>
									</div>
								</div>
								<div class="row studentonly">
									<div class="col-md-6" >
										<div class="form-group">
											<label>Standard: <span class="text-danger">*</span></label>
											<select id="standards" name="standard_id" data-placeholder="Select Standard" class="select required studentonly1">
											</select>
										</div>
									</div>

									<div class="col-md-6" >
										<div class="form-group">
											<label>Roll Number: <span class="text-danger">*</span></label>
											<input type="text" name="roll_number" placeholder="Give Your Institute Roll No" class="form-control required studentonly1">
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6" >
										<div class="form-group">
											<label>Program: <span class="text-danger">*</span></label>
											<select id="programs" name="program_id" data-placeholder="Select Program" class="select required">
											</select>
										</div>
									</div>

									<div class="col-md-6" >
										<div class="form-group">
											<label>Address: <span class="text-danger">*</span></label>
											<input type="text" name="address" class="form-control required">
										</div>
									</div>
								</div>
							</fieldset>
							<button type="submit" class="btn btn-primary stepy-finish">Submit <i class="icon-check position-right"></i></button>
						</form>
		            </div>
		            <!-- /wizard with validation -->
		        </div>

			</div>
			<!-- /main content -->

		</div>
		<!-- /page content -->

	</div>
	<!-- /page container -->



	<!-- Footer -->
	<div class="navbar navbar-default navbar-fixed-bottom footer">
		<ul class="nav navbar-nav visible-xs-block">
			<li><a class="text-center collapsed" data-toggle="collapse" data-target="#footer"><i class="icon-circle-up2"></i></a></li>
		</ul>

		<div class="navbar-collapse collapse" id="footer">
			<div class="navbar-text">
				&copy; 2015. <a href="#" class="navbar-link">Limitless Web App Kit</a> by <a href="http://themeforest.net/user/Kopyov" class="navbar-link" target="_blank">Eugene Kopyov</a>
			</div>

			<div class="navbar-right">
				<ul class="nav navbar-nav">
					<li><a href="#">About</a></li>
					<li><a href="#">Terms</a></li>
					<li><a href="#">Contact</a></li>
				</ul>
			</div>
		</div>
	</div>
	<!-- /footer -->

	<script type="text/javascript">
		window.onload = function() {
	        ajaxCallFunction();
	        // document.getElementById('institutes2').innerHTML += '<label class="validation-error-label">hello field is required.</label>';
	    };

		$('input:radio[name="role"]').change(function(){
		    if($(this).val() == '1'){
		       	$( ".studentonly" ).each(function() {
					$(this).hide();
				});
				$( ".studentonly1" ).each(function() {
					$(this).removeClass('required');
				});
				$( ".teacheronly" ).each(function() {
					$(this).show();
				});
				$( ".teacheronly1" ).each(function() {
					$(this).addClass('required');
				});
		    }
		    else{
		    	$( ".studentonly" ).each(function() {
					$(this).show();
				});
				$( ".studentonly1" ).each(function() {
					$(this).addClass('required');
				});
				$( ".teacheronly" ).each(function() {
					$(this).hide();
				});
				$( ".teacheronly1" ).each(function() {
					$(this).removeClass('required');
				});
		    }
		});

		function myfunc1(){
			document.getElementById('usernameavaliable').textContent = "";
			$.ajax({
		        type: 'POST',
		        url: '/user/usernameverification/',
		        data:{
		        	username : document.getElementById("username").value 
		        },
		        success: function(response) {
		          // alert(response.status);
		          	if(response.status){
		          		$("#usernameavaliable").addClass('validation-valid-label').removeClass('validation-error-label');
		          		document.getElementById('usernameavaliable').textContent = "Username Avaliable";
			        	new PNotify({
				            title: 'Username Avaliable',
				            text: 'Please continue to the next page',
				            addclass: 'alert alert-success alert-styled-right',
				            type: 'success'
				        });				       
					}
					else{
						$("#usernameavaliable").addClass('validation-error-label').removeClass('validation-valid-label');
		          		document.getElementById('usernameavaliable').textContent = "Username Not Avaliable";
						new PNotify({
				            title: 'Some Issue!',
				            text: response.msg,
				            addclass: 'alert alert-danger alert-styled-right',
				            type: 'error'
				        });
					}
				}
	        });
		}

		function myfunc2(){
			document.getElementById('emailavaliable').textContent = "";
			$.ajax({
		        type: 'POST',
		        url: '/user/emailverification/',
		        data:{
		        	email : document.getElementById("email").value 
		        },
		        success: function(response) {
		          // alert(response.status);
		          	if(response.status){
		          		$("#emailavaliable").addClass('validation-valid-label').removeClass('validation-error-label');
		          		document.getElementById('emailavaliable').textContent = "Email Avaliable";
			        	new PNotify({
				            title: 'Email Avaliable',
				            text: 'Please continue to the next page',
				            addclass: 'alert alert-success alert-styled-right',
				            type: 'success'
				        });				       
					}
					else{
						$("#emailavaliable").addClass('validation-error-label').removeClass('validation-valid-label');
		          		document.getElementById('emailavaliable').textContent = "Email Not Avaliable";
						new PNotify({
				            title: 'Some Issue!',
				            text: response.msg,
				            addclass: 'alert alert-danger alert-styled-right',
				            type: 'error'
				        });
					}
				}
	        });
		}


	    function ajaxCallFunction(){
        //this function uses ajax to interact with the server
	       	$.ajax({
		        type: 'GET',
		        url: '/institute/fetchinstitutes/',
		        success: function(response) {
		          // alert(response.status);
		          	if(response.status){
			            institutes = response.institutes;
			            document.getElementById('institutes').innerHTML = '<option></option>';
						for(var i = 0; i < institutes.length; ++i)
						{     
							var data = '<option value="'+institutes[i].institute_id+'">'+
										institutes[i].institute_name+', '
										+institutes[i].institute_city+', '
										+institutes[i].institute_state+'</option>';
							document.getElementById('institutes').innerHTML += data;       
						};							       
					}
					else{
						new PNotify({
				            title: 'Some Issue!',
				            text: 'Please reload the page',
				            addclass: 'alert alert-danger alert-styled-right',
				            type: 'error'
				        });
					}
				}
	        });
	        $.ajax({
		        type: 'GET',
		        url: '/program/fetchprograms/',
		        success: function(response) {
		          // alert(response.status);
		          	if(response.status){
			            programs = response.programs;
			            document.getElementById('programs').innerHTML = '<option></option>';
						for(var i = 0; i < programs.length; ++i)
						{     
							var data = '<option value="'+programs[i].program_id+'">'+
										programs[i].program_name+'</option>';
							document.getElementById('programs').innerHTML += data;       
						};							       
					}
					else{
						new PNotify({
				            title: 'Some Issue!',
				            text: 'Please reload the page',
				            addclass: 'alert alert-danger alert-styled-right',
				            type: 'error'
				        });
					}
				}
	        });
	        $.ajax({
		        type: 'GET',
		        url: '/program/fetchstandards/',
		        success: function(response) {
		          	// alert(response.status);
		          	if(response.status){
			            standards = response.standards;
			            document.getElementById('standards').innerHTML = '<option></option>';
						for(var i = 0; i < standards.length; ++i)
						{     
							var data = '<option value="'+standards[i].standard_id+'">'+
										standards[i].standard_name+'</option>';
							document.getElementById('standards').innerHTML += data;       
						};							       
					}
					else{
						new PNotify({
				            title: 'Some Issue!',
				            text: 'Please reload the page',
				            addclass: 'alert alert-danger alert-styled-right',
				            type: 'error'
				        });
					}
				}
	        });
	    }


	    $('#form1').submit(function(e)
	    {
	    	var a = document.getElementById('usernameavaliable').textContent;
	    	var b = document.getElementById('emailavaliable').textContent;
	    	var url_temp;
	    	if($("input[name=role]:checked").val() == "0"){
	    		url_temp = '/student/register/';
	    	}
	    	if($("input[name=role]:checked").val() == "1"){
	    		url_temp = '/teacher/register/';
	    	}
	    	e.preventDefault();
	    	if($("#form1").validate().form()) {
		        $.ajax({
		            type: 'POST',
		            url: url_temp,
		            data: $("#form1").serialize(),
		            success: function(response) {
			            if(response.status === true)
		                {
		                	new PNotify({
					            title: 'Registration Successful',
					            text: response.msg,
					            addclass: 'alert alert-success alert-styled-right',
					            type: 'success'
					        });
		                }
		                else{
		                	$('#usernameavaliable').show();
		                	$('#emailavaliable').show();
		                	document.getElementById('usernameavaliable').textContent = a;
		                	document.getElementById('emailavaliable').textContent = b;
		                	new PNotify({
					            title: 'Registration Unsuccessful',
					            text: response.msg,
					            addclass: 'alert alert-danger alert-styled-right',
					            type: 'error'
					        });
		                }
		            }
		        });
		    }
		    else{
		    	new PNotify({
		            title: 'Registration Unsuccessful',
		            text: 'Validation error!',
		            addclass: 'alert alert-danger alert-styled-right',
		            type: 'error'
		        });
		    }
	    });
	</script>

</body>
</html>
